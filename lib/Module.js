// Generated by CoffeeScript 1.6.3
(function() {
  var cache, modules, nodeInfo, require, resolve;

  if (!this.require) {
    modules = {};
    nodeInfo = {};
    cache = {};
    require = function(name, parent) {
      var module,
        _this = this;
      if (parent == null) {
        parent = null;
      }
      name = resolve(name, parent);
      if (typeof modules[name] === 'undefined') {
        throw new Error('Module ' + name + ' was not found.');
      }
      if (typeof modules[name] === 'string') {
        name = resolve(modules[name]);
      }
      if (typeof cache[name] === 'undefined') {
        module = {
          exports: {},
          id: name,
          filename: name,
          loaded: false,
          parent: null,
          children: null
        };
        modules[name].apply(modules[name], [
          module.exports, function(name, parent) {
            if (parent == null) {
              parent = null;
            }
            return _this.require(name, parent);
          }, module
        ]);
        module.loaded = false;
        cache[name] = module;
      }
      return cache[name].exports;
    };
    resolve = function(name, parent) {
      var checkName, count, i, moduleName, nameRest, num, part, parts, prev, result, _i, _j, _len;
      if (parent == null) {
        parent = null;
      }
      if (name[0] === '.' && parent === null) {
        throw new Error('Can not resolve module name ' + name);
      }
      if (name[0] === '/') {
        name = name.substr(1);
      } else if (name[0] === '.') {
        num = parent.lastIndexOf('/');
        num = num === -1 ? 0 : num;
        name = parent.substring(0, num) + '/' + name;
      } else {
        if (parent === null) {
          parent = '';
        }
        count = parent.split('/').length - 1;
        num = name.indexOf('/');
        if (num === -1) {
          nameRest = null;
        } else {
          nameRest = name.substr(num + 1);
          name = name.substr(0, num);
        }
        for (i = _i = 0; 0 <= count ? _i <= count : _i >= count; i = 0 <= count ? ++_i : --_i) {
          num = parent.lastIndexOf('/');
          num = num === -1 ? 0 : num;
          parent = parent.substring(0, num);
          moduleName = parent + '/node_modules/' + name;
          moduleName = moduleName.replace(/^\//, '');
          if (typeof nodeInfo[moduleName] !== 'undefined' && nodeInfo[moduleName].name === name) {
            if (nameRest === null) {
              name = nodeInfo[moduleName].path;
            } else {
              name = moduleName + '/' + nameRest;
            }
            break;
          }
        }
      }
      parts = name.split('/');
      result = [];
      prev = null;
      for (_j = 0, _len = parts.length; _j < _len; _j++) {
        part = parts[_j];
        if (part === '.' || part === '') {
          continue;
        } else if (part === '..' && prev) {
          result.pop();
        } else {
          result.push(part);
        }
        prev = part;
      }
      name = result.join('/');
      checkName = function(name) {
        if (typeof modules[name] !== 'undefined') {
          return name;
        } else if (typeof modules[name + '.js'] !== 'undefined') {
          return name + '.js';
        } else if (typeof modules[name + '.json'] !== 'undefined') {
          return name + '.json';
        } else if (typeof modules[name + '.coffee'] !== 'undefined') {
          return name + '.coffee';
        } else if (typeof modules[name + '.ts'] !== 'undefined') {
          return name + '.ts';
        } else if (typeof modules[name + '.eco'] !== 'undefined') {
          return name + '.eco';
        } else {
          return name;
        }
      };
      return checkName(name);
    };
    this.require = function(name, parent) {
      if (parent == null) {
        parent = null;
      }
      return require(name, parent);
    };
    this.require.define = function(bundle) {
      var module, name;
      for (name in bundle) {
        module = bundle[name];
        modules[name] = module;
      }
    };
    this.require._setNodeInfo = function(data) {
      nodeInfo = data;
    };
  }

  return this.require.define;

}).call(this);
