// Generated by CoffeeScript 1.6.3
(function() {
  var Application, Loader, Parser, Q, Style;

  Q = require('q');

  Application = require('./Application');

  Style = require('./Style');

  Loader = require('../Loader/Loader');

  Parser = (function() {
    Parser.prototype.simq = null;

    Parser.prototype.loader = null;

    Parser.prototype.basePath = null;

    function Parser(simq, basePath) {
      var cacheDirectory;
      this.simq = simq;
      this.basePath = basePath;
      this.loader = new Loader(this.simq);
      cacheDirectory = this.simq.config.load().cache.directory;
      if (cacheDirectory !== null) {
        this.loader.setCacheDirectory(cacheDirectory);
      }
    }

    Parser.prototype.parseApplication = function(section, name) {
      return (new Application(this.simq, this.loader, this.basePath, section, name)).parse();
    };

    Parser.prototype.parseStyle = function(path, name) {
      return (new Style(this.loader)).parse(path, name);
    };

    return Parser;

  })();

  module.exports = Parser;

}).call(this);
