// Generated by CoffeeScript 1.6.3
(function() {
  var SimQ, argv, optimist, s;

  SimQ = require('./SimQ');

  optimist = require('optimist');

  argv = optimist.usage(['simq COMMAND', '	build:  save all changes to disk', '	watch:  watch for new changes and save them automatically to disk\n', '	--help: show this help'].join('\n')).alias('d', 'debug').describe('d', 'all compilations use debug mode').alias('c', 'config').describe('c', 'set custom config file').argv;

  argv.command = argv._[0];

  argv.targets = argv._.slice(1);

  s = new SimQ;

  s.debug = argv.debug && true || false;

  if (argv.config) {
    s.configPath = argv.config;
    s.config.path = argv.config;
  }

  if (argv.help) {
    optimist.showHelp();
    process.exit();
  }

  switch (argv.command) {
    case 'build':
      s.build();
      break;
    case 'watch':
      s.watch();
      break;
    default:
      optimist.showHelp();
      process.exit();
  }

}).call(this);
